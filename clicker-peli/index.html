<!DOCTYPE html>
<html>
<head>
<title>Clicker-peli</title>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="style.css">

</head>

<body>

    <button onclick="klikkaus()">Click</button> <br><br>

    <button onclick="lisaaMaansiirtotyokalu()">Vuokraa maansiirtotyökalu</button> <p1>Hinta: 75 (Klikkaus per sekunti nousee +2) </p1>
    
    <br><br>

    <button onclick="lisaaMetsatyokone()">Vuokraa mehtäkone </button> <p1>Hinta: 300 (Klikkaus per sekunti nousee +5)</p1> <br><br>
    
        <div id="klikit"></div>

        <p id="metsatyokone"></p>

        <p id="kaivuri"></p>

        <p id="ker"></p>

        <p id="laskenta"></p>

        <p id="timerId"></p>

    

    <button onclick="lisaaTyontekija()">Palkkaa röiukko</button> <p1>Hinta: 500 (Klikkaukset nousee +1)</p1> 
    
    <br><br>

    <button onclick="lisaaKaivuri()">Vuokraa kaivuri</button> <p1>Hinta: 1000 (Klikkaukset nousee +5)</p1>

    <script>
    
    var laskuri = 0;
    var kerroin = 1;
    var kaivuri = 0;
    var tyoukko = 1;
    var maansiirtokone = 0;
    var metsatyokone = 0;
    var timerId;
    var laskenta = document.getElementById('laskenta');

    function klikkaus(){
        laskuri += 1 * kerroin;
        console.log('Pisteet: ' + laskuri);
        tulosta();
        console.log(timerId);
    }

    function lisaaTyontekija(){
        if (laskuri >= 500) {
            console.log("Palkkasit röiukon!");
            laskuri = laskuri-500;
            tyoukko++;
            kerroin++;
            tulosta();
            console.log('röiukot: ' + kerroin);
        }
    }

        function lisaaKaivuri(){
            if (laskuri >= 1000) {
                console.log("Vuokrasit kaivurin!");
                laskuri = laskuri-1000;
                kerroin=kerroin+5;
                kaivuri++;
                tulosta();
                console.log('Kaivurit: ' + kerroin);
         }
     }

        function aloita(){
            timerId = setInterval(laske, 1000); 
        }
        function laske(){
            laskuri += 2 * maansiirtokone + 5 * metsatyokone;
            console.log(timerId);
            tulosta();
        }

        function osta(){
            tyoukko++;
        }

        function lisaaMaansiirtotyokalu(){
            if (laskuri >= 75) {
                console.log("Vuokrasit maansiirtotyökalun!")
                laskuri = laskuri-75;
                maansiirtokone++;
                tulosta();
                if (timerId) {
                    return;
                }
                aloita();
               
            }
        }

        function lisaaMetsatyokone(){
            if (laskuri >= 300) {
                console.log("Vuokrasit metsätyökoneen!")
                laskuri = laskuri-300;
                metsatyokone++;
                tulosta();
                if (timerId) {
                    return;
                }
                aloita();
               
            }
        }
        
    function tulosta(){
        console.log(laskuri);
        document.getElementById('klikit').innerHTML = laskuri;
        document.getElementById('ker').innerHTML = "Työntekijöitä: " + tyoukko;
        document.getElementById('kaivuri').innerHTML = "Kaivurit: " + kaivuri;
        document.getElementById('laskenta').innerHTML = "Maansiirtokoneet: " + maansiirtokone;
        document.getElementById('metsatyokone').innerHTML = "Mehtäkoneet: " + metsatyokone;
}
    

   </script>


</body>

</html>